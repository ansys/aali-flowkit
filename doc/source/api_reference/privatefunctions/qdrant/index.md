<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# qdrant

```go
import "github.com/ansys/aali-flowkit/pkg/privatefunctions/qdrant"
```

## Index

- [func CreateCollectionIfNotExists\(ctx context.Context, client \*qdrant.Client, collectionName string, vectorsConfig \*qdrant.VectorsConfig, sparseVectorsConfig \*qdrant.SparseVectorConfig\) error](<#CreateCollectionIfNotExists>)
- [func DbFiltersAsQdrant\(dbFilters sharedtypes.DbFilters\) \*qdrant.Filter](<#DbFiltersAsQdrant>)
- [func QdrantClient\(\) \(\*qdrant.Client, error\)](<#QdrantClient>)
- [func QdrantPayloadToMap\(payload map\[string\]\*qdrant.Value\) map\[string\]any](<#QdrantPayloadToMap>)
- [func QdrantPayloadToType\[T any\]\(payload map\[string\]\*qdrant.Value\) \(T, error\)](<#QdrantPayloadToType>)
- [func RetrieveChildNodes\(ctx \*logging.ContextMap, client \*qdrant.Client, collectionName string, data \*\[\]sharedtypes.DbResponse\) \(funcError error\)](<#RetrieveChildNodes>)
- [func RetrieveDirectSiblingNodes\(ctx \*logging.ContextMap, client \*qdrant.Client, collectionName string, data \*\[\]sharedtypes.DbResponse\) \(funcError error\)](<#RetrieveDirectSiblingNodes>)
- [func RetrieveLeafNodes\(ctx \*logging.ContextMap, client \*qdrant.Client, collectionName string, data \*\[\]sharedtypes.DbResponse\) \(funcError error\)](<#RetrieveLeafNodes>)
- [func RetrieveParentNodes\(ctx \*logging.ContextMap, client \*qdrant.Client, collectionName string, data \*\[\]sharedtypes.DbResponse\) \(funcError error\)](<#RetrieveParentNodes>)
- [func ToQdrantPayload\[T any\]\(t T\) \(map\[string\]\*qdrant.Value, error\)](<#ToQdrantPayload>)
- [func VectorDistance\(distance string\) qdrant.Distance](<#VectorDistance>)
- [type AsQdrantFilterConditions](<#AsQdrantFilterConditions>)


<a name="CreateCollectionIfNotExists"></a>
## func [CreateCollectionIfNotExists](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L47>)

```go
func CreateCollectionIfNotExists(ctx context.Context, client *qdrant.Client, collectionName string, vectorsConfig *qdrant.VectorsConfig, sparseVectorsConfig *qdrant.SparseVectorConfig) error
```



<a name="DbFiltersAsQdrant"></a>
## func [DbFiltersAsQdrant](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L86>)

```go
func DbFiltersAsQdrant(dbFilters sharedtypes.DbFilters) *qdrant.Filter
```

Transform \`sharedtypes.DbFilters\` into a qdrant filter.

<a name="QdrantClient"></a>
## func [QdrantClient](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L39>)

```go
func QdrantClient() (*qdrant.Client, error)
```

Create a new qdrant client from your config.

<a name="QdrantPayloadToMap"></a>
## func [QdrantPayloadToMap](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L453>)

```go
func QdrantPayloadToMap(payload map[string]*qdrant.Value) map[string]any
```



<a name="QdrantPayloadToType"></a>
## func [QdrantPayloadToType](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L461>)

```go
func QdrantPayloadToType[T any](payload map[string]*qdrant.Value) (T, error)
```



<a name="RetrieveChildNodes"></a>
## func [RetrieveChildNodes](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L288>)

```go
func RetrieveChildNodes(ctx *logging.ContextMap, client *qdrant.Client, collectionName string, data *[]sharedtypes.DbResponse) (funcError error)
```

RetrieveChildNodes retrieves the child nodes for each of the documents provided.

Parameters:

- ctx: ContextMap.
- client: the qdrant client
- collectionName: Name of the collection in the qdrant database to retrieve the children from.
- data: Data to retrieve the children for.

Returns:

- error: Error if any issue occurs while retrieving the children.

<a name="RetrieveDirectSiblingNodes"></a>
## func [RetrieveDirectSiblingNodes](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L358>)

```go
func RetrieveDirectSiblingNodes(ctx *logging.ContextMap, client *qdrant.Client, collectionName string, data *[]sharedtypes.DbResponse) (funcError error)
```

RetrieveDirectSiblingNodes retrieves the nodes associated with the next & previous sibling \(if any\) for each of the documents provided.

Parameters:

- ctx: ContextMap.
- client: the qdrant client
- collectionName: Name of the collection in the qdrant database to retrieve the siblings from.
- data: Data to retrieve the siblings for.

Returns:

- error: Error if any issue occurs while retrieving the siblings.

<a name="RetrieveLeafNodes"></a>
## func [RetrieveLeafNodes](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L151>)

```go
func RetrieveLeafNodes(ctx *logging.ContextMap, client *qdrant.Client, collectionName string, data *[]sharedtypes.DbResponse) (funcError error)
```

RetrieveLeafNodes retrieves all leaf nodes from the similarity search result branch \(ultimate children containing the original document\).

Parameters:

- ctx: ContextMap.
- client: the qdrant client
- collectionName: Name of the collection in the qdrant database to retrieve the leaves from.
- data: Data to retrieve the leaf nodes for.

Returns:

- error: Error if any issue occurs while retrieving the leaves.

<a name="RetrieveParentNodes"></a>
## func [RetrieveParentNodes](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L218>)

```go
func RetrieveParentNodes(ctx *logging.ContextMap, client *qdrant.Client, collectionName string, data *[]sharedtypes.DbResponse) (funcError error)
```

RetrieveParentNodes retrieves the parent node for each of the documents provided.

Parameters:

- ctx: ContextMap.
- client: the qdrant client
- collectionName: Name of the collection in the qdrant database to retrieve the parents from.
- data: Data to retrieve the parent nodes for.

Returns:

- error: Error if any issue occurs while retrieving the parents.

<a name="ToQdrantPayload"></a>
## func [ToQdrantPayload](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L477>)

```go
func ToQdrantPayload[T any](t T) (map[string]*qdrant.Value, error)
```



<a name="VectorDistance"></a>
## func [VectorDistance](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L69>)

```go
func VectorDistance(distance string) qdrant.Distance
```

Get a qdrant vector distance metric from string

Available options are:

- cosine
- dot
- euclid
- manhattan

<a name="AsQdrantFilterConditions"></a>
## type [AsQdrantFilterConditions](<https://github.com/ansys/aali-flowkit/blob/main/pkg/privatefunctions/qdrant/qdrant.go#L109-L111>)



```go
type AsQdrantFilterConditions interface {
    AsQdrantFilterConditions(field string) []*qdrant.Condition
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
